{"version":3,"sources":["webpack:///./src/app/models/Restaurant.model.ts","webpack:///./src/app/pages/find-restaurant/find-restaurant.module.ts","webpack:///./src/app/pages/find-restaurant/find-restaurant.page.html","webpack:///./src/app/pages/find-restaurant/find-restaurant.page.scss","webpack:///./src/app/pages/find-restaurant/find-restaurant.page.ts","webpack:///./src/app/services/restaurant.service.ts","webpack:///./src/app/services/vin.service.ts"],"names":[],"mappings":"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","file":"pages-find-restaurant-find-restaurant-module.js","sourcesContent":["import { Vin } from './Vin.model';\r\n\r\nexport class Restaurant {\r\n    id: number;\r\n    name: string;\r\n    type: string;\r\n    address_1: string;\r\n    address_2: string;\r\n    address_3: string;\r\n    zip_code: string;\r\n    city: string;\r\n    country: string;\r\n    phone_number: string;\r\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\n\nimport { FindRestaurantPage } from './find-restaurant.page';\nimport { AgmCoreModule, GoogleMapsAPIWrapper } from '@agm/core';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FindRestaurantPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyC8SehJEhUgxWvlRE30IWFHPRpucpsAirY'\n    })\n  ],\n  declarations: [FindRestaurantPage],\n  providers: [GoogleMapsAPIWrapper],\n})\nexport class FindRestaurantPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Trouver un restaurant\\n    </ion-title>\\n    <ion-img src=\\\"/assets/icon/vaudvin_logo.png\\\" class=\\\"img-toolbar\\\" slot=\\\"end\\\"></ion-img>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-list>\\n    <ion-card *ngFor=\\\"let restaurant of restaurants\\\" class=\\\"restau-card\\\" (click)=\\\"getDetails(restaurant)\\\">\\n      <ion-item>\\n        <div class=\\\"div-icon\\\">\\n          <ion-icon name=\\\"restaurant\\\" class=\\\"img-icon\\\"></ion-icon>\\n        </div>\\n        <div class=\\\"restau-info\\\">\\n          <ion-label class=\\\"restau-title\\\">{{restaurant.name}}</ion-label>\\n          <ion-label>{{restaurant.type}}</ion-label>\\n          <ion-label>{{restaurant.address_1}}</ion-label>\\n          <ion-label>{{restaurant.zip_code}} - {{restaurant.city}}</ion-label>\\n          <ion-label>{{restaurant.phone_number}}</ion-label>\\n        </div>\\n      </ion-item>  \\n    </ion-card>\\n  </ion-list>\\n  <agm-map\\n   [style.height.px]=\\\"height\\\"\\n   [latitude]=\\\"lat\\\"\\n   [longitude]=\\\"lng\\\">\\n     <agm-marker [latitude]=\\\"lat\\\" [longitude]=\\\"lng\\\"></agm-marker>\\n  </agm-map>\\n</ion-content>\\n\"","module.exports = \".img-toolbar {\\n  width: 100px;\\n  height: 50px; }\\n\\n.restau-card {\\n  cursor: pointer; }\\n\\n.div-icon {\\n  margin-right: 10px;\\n  height: 20px;\\n  width: 40px; }\\n\\n.div-icon .img-icon {\\n    height: 40px;\\n    width: 40px; }\\n\\n.restau-info {\\n  padding-top: 20px;\\n  padding-bottom: 20px; }\\n\\n.restau-info .restau-title {\\n    font-weight: bold;\\n    font-size: 1.1em;\\n    color: #df4b68; }\\n\\nagm-map {\\n  height: 100% !important;\\n  width: 100%; }\\n\\n.gm-style {\\n  text-align: center; }\\n\\nagm-info-window {\\n  display: block;\\n  margin: 0 auto;\\n  font-size: 20px;\\n  max-width: 80px;\\n  max-height: 80px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZmluZC1yZXN0YXVyYW50L0M6XFxVc2Vyc1xcRWRkeVxcRHJvcGJveFxcQEhFR1NlbWVzdHJlOFxcVHJhdmFpbC1kZS1CYWNoZWxvclxcSW9uaWNcXFZhdWRWaW4tZnJvbnQvc3JjXFxhcHBcXHBhZ2VzXFxmaW5kLXJlc3RhdXJhbnRcXGZpbmQtcmVzdGF1cmFudC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFXO0VBQ1gsWUFBVyxFQUFBOztBQUVmO0VBQ0ksZUFBZSxFQUFBOztBQUduQjtFQUNJLGtCQUFpQjtFQUNqQixZQUFZO0VBQ1osV0FBVyxFQUFBOztBQUhmO0lBTVEsWUFBVztJQUNYLFdBQVUsRUFBQTs7QUFJbEI7RUFDSSxpQkFBZ0I7RUFDaEIsb0JBQW1CLEVBQUE7O0FBRnZCO0lBSVEsaUJBQWlCO0lBQ2pCLGdCQUFlO0lBQ2YsY0FBYyxFQUFBOztBQUl0QjtFQUNJLHVCQUF1QjtFQUN2QixXQUFXLEVBQUE7O0FBR2I7RUFDRSxrQkFBa0IsRUFBQTs7QUFHcEI7RUFDRSxjQUFjO0VBQ2QsY0FBYztFQUNkLGVBQWU7RUFDZixlQUFlO0VBQ2YsZ0JBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9maW5kLXJlc3RhdXJhbnQvZmluZC1yZXN0YXVyYW50LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbWctdG9vbGJhcntcclxuICAgIHdpZHRoOjEwMHB4O1xyXG4gICAgaGVpZ2h0OjUwcHg7XHJcbn1cclxuLnJlc3RhdS1jYXJke1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uZGl2LWljb257XHJcbiAgICBtYXJnaW4tcmlnaHQ6MTBweDtcclxuICAgIGhlaWdodDogMjBweDtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG5cclxuICAgIC5pbWctaWNvbntcclxuICAgICAgICBoZWlnaHQ6NDBweDtcclxuICAgICAgICB3aWR0aDo0MHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4ucmVzdGF1LWluZm97XHJcbiAgICBwYWRkaW5nLXRvcDoyMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206MjBweDtcclxuICAgIC5yZXN0YXUtdGl0bGV7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgZm9udC1zaXplOjEuMWVtO1xyXG4gICAgICAgIGNvbG9yOiAjZGY0YjY4O1xyXG4gICAgfVxyXG59XHJcblxyXG5hZ20tbWFwIHtcclxuICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG4gIFxyXG4gIC5nbS1zdHlsZSB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIGFnbS1pbmZvLXdpbmRvdyB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgbWF4LXdpZHRoOiA4MHB4O1xyXG4gICAgbWF4LWhlaWdodDogODBweDtcclxuICB9Il19 */\"","import { Component, OnInit, ViewChild, NgZone } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Restaurant } from 'src/app/models/Restaurant.model';\nimport { RestaurantService } from 'src/app/services/restaurant.service';\nimport { Platform } from '@ionic/angular';\nimport { AgmMap, GoogleMapsAPIWrapper, MapsAPILoader } from '@agm/core';\n\ndeclare var google: any;\n\ninterface Marker {\n  lat: number;\n  lng: number;\n  label?: string;\n  draggable?: boolean;\n}\n\ninterface Location {\n  lat: number;\n  lng: number;\n  viewport?: Object;\n  zoom: number;\n  addresse?: string;\n  no_rue?: string;\n  pays?: string;\n  code_postal?: string;\n  ville?: string;\n  marker?: Marker;\n}\n\nclass LocalisationMarqueur {\n  restaurant: Restaurant;\n  lat: number;\n  lng: number;\n  constructor(restaurant: Restaurant, lat: number, lng: number) {\n    this.lat = lat;\n    this.lng = lng;\n    this.restaurant = restaurant;\n  }\n}\n\n\n@Component({\n  selector: 'app-find-restaurant',\n  templateUrl: './find-restaurant.page.html',\n  styleUrls: ['./find-restaurant.page.scss'],\n})\nexport class FindRestaurantPage implements OnInit {\n  private selectedItem: any;\n\n  restaurants = new Array<Restaurant>();\n\n  geocoder: any;\n  lat: number;\n  lng: number;\n  zoom: number;\n  isLoading = false;\n  cpt = 0;\n  lstLocalisations = new Array<LocalisationMarqueur>();\n  icon = {\n    url: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png',\n    scaledSize: {\n      width: 40,\n      height: 40\n    }\n  }\n\n  @ViewChild(AgmMap) map: AgmMap;\n  public location: Location = {\n    lat: this.lat,\n    lng: this.lng,\n    marker: {\n      lat: this.lat,\n      lng: this.lng,\n    },\n    zoom: 5\n  };\n\n  constructor(public mapsApiLoader: MapsAPILoader,\n    private zone: NgZone,\n    private wrapper: GoogleMapsAPIWrapper, private rs : RestaurantService, private router : Router, public platform: Platform) {\n    this.mapsApiLoader = mapsApiLoader;\n    this.zone = zone;\n    this.wrapper = wrapper;\n    this.mapsApiLoader.load().then(() => {\n      this.geocoder = new google.maps.Geocoder();\n    });\n  }\n\n  ngOnInit() {\n    this.rs.getRestaurants().subscribe(restaurants => this.restaurants = restaurants);\n    console.log(this.restaurants.length);\n    setTimeout(() => {\n      this.location.marker.draggable = false;\n      this.geoLocation();\n      this.getRestaurants();\n      this.cpt = 1;\n      this.isLoading = false;\n    }, 0);\n  }\n\n  getRestaurants() {\n    this.rs.getRestaurants().subscribe(restaurants => this.restaurants = restaurants);\n  }\n\n  geoLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition((position: Position) => {\n        if (position) {\n          this.zoom = 16;\n          this.lat = position.coords.latitude;\n          this.lng = position.coords.longitude;\n        }\n      },\n        (error: PositionError) => console.log(error));\n    } else {\n      alert('Geolocation is not supported by this browser.');\n    }\n  }\n\n  navigateToRestaurant(restaurant: Restaurant) {\n    //this.router.navigate(['vendor-profil/' + restaurant.id]);\n    console.log(\"route pour restaurant\");\n  }\n\n/*\n  onChange(event){\n    this.rs.getRestaurantsByName(event.detail.value).subscribe(restaurants => this.restaurants = restaurants);\n    this.rs.pushNextArrayRestaurants(this.restaurants);\n  }\n*/\n  getDetails(r: Restaurant){\n    this.rs.setRestaurant(r);\n    this.router.navigate(['restaurant-detail']);\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { Restaurant } from '../models/Restaurant.model';\r\nimport { Observable, of, BehaviorSubject } from 'rxjs';\r\nimport { VinService } from './vin.service';\r\nimport { Vin } from '../models/Vin.model';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { URL } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RestaurantService {\r\n\r\n  restaurants$ = new BehaviorSubject<Array<Restaurant>>(new Array<Restaurant>());\r\n\r\n  restaurant = new Restaurant;\r\n\r\n  restaurant$ = new BehaviorSubject<Restaurant>(this.restaurant);\r\n\r\n  listeVins = new Array<Vin>();\r\n\r\n  restaurantsFiltres = new Array<Restaurant>();\r\n\r\n\r\n  constructor(private http : HttpClient, private vinService: VinService) { }\r\n\r\n  getRestaurants(): Observable<Array<Restaurant>> {\r\n    return this.http.get<Array<Restaurant>>(URL.domaine + URL.restaurant.verb);\r\n  }\r\n\r\n  /*\r\n  getRestaurantsByName(content: string): Observable<Array<Restaurant>> {\r\n    this.restaurantsFiltres = new Array<Restaurant>();\r\n    this.listeRestaurants.forEach(r => {\r\n      const nom = r.nom.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n      const type = r.type.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n      const contentNormalized = content.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n      if(nom.toLocaleUpperCase().includes(contentNormalized.toLocaleUpperCase())\r\n      || type.toLocaleUpperCase().includes(contentNormalized.toLocaleUpperCase())) {\r\n        this.restaurantsFiltres.push(r);\r\n      }\r\n    });\r\n    return of(this.restaurantsFiltres);\r\n  }\r\n*/\r\n  pushNextArrayRestaurants(restaurants: Array<Restaurant>) {\r\n    this.restaurants$.next(restaurants);\r\n  }\r\n\r\n  setRestaurant(r: Restaurant) {\r\n    this.restaurant = r;\r\n  }\r\n\r\n  getRestaurant(): Observable<Restaurant> {\r\n    return of(this.restaurant);\r\n  }\r\n\r\n  pushNextRestaurant() {\r\n    this.restaurant$.next(this.restaurant);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Vin } from '../models/Vin.model';\r\nimport { BehaviorSubject, Observable, of } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { URL } from '../../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VinService {\r\n\r\n  /*\r\n  public vins: Array<Vin> = [\r\n    {id: 1, nom: 'Château d\\'Auvergnier AOC', provenance: 'Communes d\\'Auvernier' , producteur: 'Thierry GrosJean & Cie', cepage: 'Chardonnay', type: 'blanc', style: 'grand sec', degre_alcool: '14.50%', millesime: 2015, temperature_service: '2 - 4°C', taux_de_sucre: '80° Oe', medaille : 'Argent à la Sélection Vaudoise', photo: '../../assets/images/chateau_auvernier_2017.png', rate: 4},\r\n    {id: 2, nom: 'Château d\\'Auvergnier AOC', provenance: 'Communes d\\'Auvernier' , producteur: 'Thierry GrosJean & Cie', cepage: 'Chardonnay', type: 'blanc', style: 'grand sec', degre_alcool: '14.50%', millesime: 2016, temperature_service: '2 - 4°C', taux_de_sucre: '80° Oe', medaille : 'Argent à la Sélection Vaudoise', photo: '../../assets/images/chateau_auvernier_2017.png', rate: 4},\r\n    {id: 3, nom: 'Château d\\'Auvergnier AOC', provenance: 'Communes d\\'Auvernier' , producteur: 'Thierry GrosJean & Cie', cepage: 'Chardonnay', type: 'blanc', style: 'grand sec', degre_alcool: '14.50%', millesime: 2017, temperature_service: '2 - 4°C', taux_de_sucre: '80° Oe', medaille : 'Argent à la Sélection Vaudoise', photo: '../../assets/images/chateau_auvernier_2017.png', rate: 4},\r\n    {id: 4, nom: 'Château de Châtagneréaz', provenance: 'Mont-sur-Rolle La Côte' , producteur: 'Château de Châtagneréaz', cepage: 'Chasselas', type: 'blanc', style: 'grand sec', degre_alcool: '16.50%', millesime: 2016, temperature_service: '12 - 14°C', taux_de_sucre: '65° OE', medaille : 'Bronze au mondial du Chasselas', photo: '../../assets/images/chateau_de_chatagnereaz_2018.jpg', rate: 3},\r\n    {id: 5, nom: 'Château de Châtagneréaz', provenance: 'Mont-sur-Rolle La Côte' , producteur: 'Château de Châtagneréaz', cepage: 'Chasselas', type: 'blanc', style: 'grand sec', degre_alcool: '16.50%', millesime: 2017, temperature_service: '12 - 14°C', taux_de_sucre: '65° OE', medaille : 'Bronze au mondial du Chasselas', photo: '../../assets/images/chateau_de_chatagnereaz_2018.jpg', rate: 3},\r\n    {id: 6, nom: 'Château de Châtagneréaz', provenance: 'Mont-sur-Rolle La Côte' , producteur: 'Château de Châtagneréaz', cepage: 'Chasselas', type: 'blanc', style: 'grand sec', degre_alcool: '16.50%', millesime: 2018, temperature_service: '12 - 14°C', taux_de_sucre: '65° OE', medaille : 'Bronze au mondial du Chasselas', photo: '../../assets/images/chateau_de_chatagnereaz_2018.jpg', rate: 3},\r\n    {id: 7, nom: 'Château d\\'Hauteville AOC', provenance: 'Vevey, Lavaux' , producteur: 'Jean & Pierre Testuz', cepage: 'Gamay, Garanoir', type: 'rouge', style: 'fruité et gouleyant', degre_alcool: '12.50%', millesime: 2015, temperature_service: '14 - 16°C', taux_de_sucre: '85° OE', medaille : 'Argent à la Sélection Vaudoise', photo: '../../assets/images/chateau_hauteville_2017.png', rate: 3},\r\n    {id: 8, nom: 'Château d\\'Hauteville AOC', provenance: 'Vevey, Lavaux' , producteur: 'Jean & Pierre Testuz', cepage: 'Gamay, Garanoir', type: 'rouge', style: 'fruité et gouleyant', degre_alcool: '12.50%', millesime: 2016, temperature_service: '14 - 16°C', taux_de_sucre: '85° OE', medaille : 'Argent à la Sélection Vaudoise', photo: '../../assets/images/chateau_hauteville_2017.png', rate: 3},\r\n    {id: 9, nom: 'Château d\\'Hauteville AOC', provenance: 'Vevey, Lavaux' , producteur: 'Jean & Pierre Testuz', cepage: 'Gamay, Garanoir', type: 'rouge', style: 'fruité et gouleyant', degre_alcool: '12.50%', millesime: 2017, temperature_service: '14 - 16°C', taux_de_sucre: '85° OE', medaille : 'Argent à la Sélection Vaudoise', photo: '../../assets/images/chateau_hauteville_2017.png', rate: 3},\r\n    {id: 10, nom: 'Domaine Mercouri Letrini', provenance: 'Morges' , producteur: 'Mercouri', cepage: 'Refosco 85% et Mavrodafni 15%', type: 'rouge', style: 'sec', degre_alcool: '13.50%', millesime: 2014, temperature_service: '14 - 16°C', taux_de_sucre: '85° OE', medaille : 'Argent à Biovino', photo: '../../assets/images/domaine_mercouri_2016.png', rate: 4},\r\n    {id: 11, nom: 'Domaine Mercouri Letrini', provenance: 'Morges' , producteur: 'Mercouri', cepage: 'Refosco 85% et Mavrodafni 15%', type: 'rouge', style: 'sec', degre_alcool: '13.50%', millesime: 2015, temperature_service: '14 - 16°C', taux_de_sucre: '85° OE', medaille : 'Argent à Biovino', photo: '../../assets/images/domaine_mercouri_2016.png', rate: 4},\r\n    {id: 12, nom: 'Domaine Mercouri Letrini', provenance: 'Morges' , producteur: 'Mercouri', cepage: 'Refosco 85% et Mavrodafni 15%', type: 'rouge', style: 'sec', degre_alcool: '13.50%', millesime: 2016, temperature_service: '14 - 16°C', taux_de_sucre: '85° OE', medaille : 'Argent à Biovino', photo: '../../assets/images/domaine_mercouri_2016.png', rate: 4},\r\n    {id: 13, nom: 'Domaine de La Doges', provenance: 'Vevey, Lavaux' , producteur: 'Jean & Pierre Testuz', cepage: 'Chasselas', type: 'blanc', style: 'sec et fruité', degre_alcool: '12.10%', millesime: 2015, temperature_service: '9 - 11°C', taux_de_sucre: '85° OE', medaille : 'Or à la Sélection Vaudoise', photo: '../../assets/images/Domaine_de_la_doges.png', rate: 5},\r\n    {id: 14, nom: 'Domaine de La Doges', provenance: 'Vevey, Lavaux' , producteur: 'Jean & Pierre Testuz', cepage: 'Chasselas', type: 'blanc', style: 'sec et fruité', degre_alcool: '12.10%', millesime: 2016, temperature_service: '9 - 11°C', taux_de_sucre: '85° OE', medaille : 'Or à la Sélection Vaudoise', photo: '../../assets/images/Domaine_de_la_doges.png', rate: 5},\r\n    {id: 15, nom: 'Domaine de La Doges', provenance: 'Vevey, Lavaux' , producteur: 'Jean & Pierre Testuz', cepage: 'Chasselas', type: 'blanc', style: 'sec et fruité', degre_alcool: '12.10%', millesime: 2017, temperature_service: '9 - 11°C', taux_de_sucre: '85° OE', medaille : 'Or à la Sélection Vaudoise', photo: '../../assets/images/Domaine_de_la_doges.png', rate: 5},\r\n    {id: 16, nom: 'Domaine de La Doges', provenance: 'Vevey, Lavaux' , producteur: 'Jean & Pierre Testuz', cepage: 'Chasselas', type: 'blanc', style: 'sec et fruité', degre_alcool: '12.10%', millesime: 2018, temperature_service: '9 - 11°C', taux_de_sucre: '85° OE', medaille : 'Or à la Sélection Vaudoise', photo: '../../assets/images/Domaine_de_la_doges.png', rate: 5},\r\n  ];\r\n\r\n  */\r\n  vin: Vin;\r\n  vin$ = new BehaviorSubject<Vin>(this.vin);\r\n  vins$ = new BehaviorSubject<Array<Vin>>(new Array<Vin>());\r\n  millesime: Array<number>;\r\n  millesime$ = new BehaviorSubject<Array<number>>(new Array<number>());\r\n\r\n  listeVinsFiltree = new Array<Vin>();\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getWines(): Observable<Array<Vin>> {\r\n    return this.http.get<Array<Vin>>(URL.domaine + URL.wine.verb);\r\n  }\r\n\r\n  /*\r\n  getVinsFilteredByName(content: string): Observable<Array<Vin>> {\r\n    this.listeVinsFiltree = new Array<Vin>();\r\n    this.vins.forEach(v => {\r\n      const nom = v.nom.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n      const provenance = v.provenance.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n      const producteur = v.producteur.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n      const cepage = v.cepage.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n      const type = v.type.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n      const style = v.style.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n      const millesime = v.millesime;\r\n      const medaille = v.medaille.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n      const contentNormalized = content.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\r\n      if (nom.toLocaleUpperCase().includes(contentNormalized.toLocaleUpperCase())\r\n      || provenance.toLocaleUpperCase().includes(contentNormalized.toLocaleUpperCase())\r\n      || provenance.toLocaleUpperCase().includes(contentNormalized.toLocaleUpperCase())\r\n      || producteur.toLocaleUpperCase().includes(contentNormalized.toLocaleUpperCase())\r\n      || cepage.toLocaleUpperCase().includes(contentNormalized.toLocaleUpperCase())\r\n      || type.toLocaleUpperCase().includes(contentNormalized.toLocaleUpperCase())\r\n      || style.toLocaleUpperCase().includes(contentNormalized.toLocaleUpperCase())\r\n      || millesime.toString().includes(contentNormalized.toLocaleUpperCase())\r\n      || medaille.toLocaleUpperCase().includes(contentNormalized.toLocaleUpperCase())) {\r\n        this.listeVinsFiltree.push(v);\r\n      }\r\n    });\r\n    return of(this.listeVinsFiltree);\r\n  }\r\n\r\n  */\r\n  pushNextVinArray(vins : Array<Vin>) {\r\n    this.vins$.next(vins);\r\n  }\r\n\r\n  getMillesime(nomVin : string){\r\n\r\n  }\r\n\r\n  /*\r\n  getSelectedVin(vin: Vin): Observable<Vin> {\r\n    var index = this.vins.indexOf(vin);\r\n    this.vin = this.vins[index];\r\n    return of(this.vin);\r\n  }\r\n\r\n  */\r\n  pushNextVin() {\r\n    this.vin$.next(this.vin);\r\n  }\r\n\r\n  getVinDetail() {\r\n    return this.vin$.asObservable();\r\n  }\r\n}\r\n"],"sourceRoot":""}